<?php
/**
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade this module to newer
 * versions in the future.
 *
 * @category  Smile
 * @package   Smile\Retailer
 * @author    Romain Ruaud <romain.ruaud@smile.fr>
 * @copyright 2016 Smile
 * @license   Open Software License ("OSL") v. 3.0
 *
 * Retailer picker for front office
 */
?>

<?php
/** @var \Smile\Retailer\Block\Retailer\Chooser $block */
?>

<?php $dataScope = $block->getDataScope(); ?>

<div data-block="smile-es-retailer-picker" class="smile-es-retailer-picker-wrapper">
    <div class="action showpicker" data-bind="scope: '<?php /* @noEscape */ echo $dataScope; ?>'">
        <span class="text" data-bind="text: getLinkLabel()"></span>
    </div>
    <div class="block block-retailer-picker"
         data-role="dropdownDialog"
         data-mage-init='{"dropdownDialog":{
            "appendTo":"[data-block=smile-es-retailer-picker]",
            "triggerTarget":".showpicker",
            "timeout": "2000",
            "closeOnMouseLeave": false,
            "closeOnEscape": true,
            "triggerClass":"active",
            "parentClass":"active",
            "buttons":[]}}'>
        <div class="smile-es-retailer-picker-content-wrapper" data-bind="scope: '<?php /* @noEscape */ echo $dataScope; ?>'">
            <!-- ko template: getTemplate() --><!-- /ko -->
        </div>
    </div>

    <script type="text/x-magento-init">
        {"*" : {"Magento_Ui/js/core/app": {"components": <?php echo  /* @noEscape */ $block->getJsonConfig(); ?> }}}
    </script>
</div>